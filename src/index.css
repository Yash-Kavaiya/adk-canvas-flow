@import '@xyflow/react/dist/style.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google ADK Visual Builder Design System
   Professional design with Google Material colors and modern typography
*/

@layer base {
  :root {
    /* Google Material Design 3 Color Scheme */
    --background: 248 250 252;           /* slate-50 equivalent */
    --foreground: 15 23 42;              /* slate-800 equivalent */
    --surface: 255 255 255;              /* pure white */
    --surface-dim: 241 245 249;          /* slate-100 equivalent */
    --surface-bright: 255 255 255;       /* pure white */
    --surface-container: 248 250 252;    /* slate-50 equivalent */
    --surface-container-high: 241 245 249; /* slate-100 equivalent */

    /* Google Brand Colors (Material Theme) */
    --google-blue: 219 87% 54%;          /* Google Blue #1a73e8 */
    --google-blue-dark: 219 87% 44%;     /* Darker blue for hover */
    --google-green: 142 76% 36%;         /* Google Green #34a853 */
    --google-yellow: 45 100% 51%;        /* Google Yellow #fbbc04 */
    --google-red: 4 90% 58%;             /* Google Red #ea4335 */

    /* Primary brand colors (Google Blue) */
    --primary: 219 87% 54%;              /* Google Blue */
    --primary-foreground: 0 0% 100%;     /* White text on blue */
    --primary-hover: 219 87% 44%;        /* Darker blue for hover */
    --primary-muted: 219 87% 54% / 0.08; /* Very light blue background */

    /* Agent type colors */
    --agent-llm: 217 89% 61%;
    --agent-sequential: 142 76% 36%;
    --agent-parallel: 45 100% 51%;
    --agent-loop: 4 90% 58%;
    --agent-tool: 262 83% 58%;

    /* Material Design 3 Semantic Colors */
    --secondary: 244 248 252;            /* Light gray background */
    --secondary-foreground: 71 85 105;   /* Slate-600 for good contrast */
    
    --muted: 248 250 252;                /* Very light gray */
    --muted-foreground: 100 116 139;     /* Slate-500 for muted text */

    --accent: 219 87% 54% / 0.06;        /* Light blue accent background */
    --accent-foreground: 219 87% 54%;    /* Blue accent text */

    --destructive: 4 90% 58%;            /* Google Red */
    --destructive-foreground: 0 0% 100%; /* White text on red */

    --warning: 45 100% 51%;              /* Google Yellow */
    --warning-foreground: 45 100% 15%;   /* Dark yellow text */

    --success: 142 76% 36%;              /* Google Green */
    --success-foreground: 0 0% 100%;     /* White text on green */

    /* Material Design 3 Borders and inputs */
    --border: 226 232 240;              /* Light border */
    --border-strong: 203 213 225;       /* Stronger border */
    --input: 241 245 249;               /* Light input background */
    --ring: 219 87% 54%;                /* Blue focus ring */

    /* Canvas specific (Material Design inspired) */
    --canvas-background: 250 251 252;   /* Very light background */
    --canvas-grid: 226 232 240;         /* Subtle grid lines */
    --canvas-selection: 219 87% 54%;    /* Blue selection color */

    /* Material Design 3 Sidebar */
    --sidebar-background: 255 255 255;  /* Pure white sidebar */
    --sidebar-foreground: 15 23 42;     /* Dark text */
    --sidebar-border: 226 232 240;      /* Light border */
    --sidebar-hover: 248 250 252;       /* Light hover background */
    --sidebar-active: 219 87% 54% / 0.08; /* Light blue active state */

    /* Material Design 3 Properties panel */
    --properties-background: 255 255 255; /* Pure white background */
    --properties-border: 226 232 240;     /* Light border */
    --properties-header: 248 250 252;     /* Light header background */
    
    /* Card and popover colors */
    --card: 255 255 255;                  /* Pure white cards */
    --card-foreground: 15 23 42;          /* Dark text on cards */
    --popover: 255 255 255;               /* Pure white popovers */
    --popover-foreground: 15 23 42;       /* Dark text on popovers */

    /* Code editor */
    --code-background: 220 13% 18%;
    --code-foreground: 220 9% 97%;

    /* Enhanced Shadows (Material Design 3) */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.03);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.05);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.05);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.15);

    /* Material Design 3 Gradients and Effects */
    --gradient-primary: linear-gradient(135deg, hsl(219 87% 54%), hsl(219 87% 44%));
    --gradient-canvas: linear-gradient(180deg, hsl(250 251 252), hsl(241 245 249));
    --gradient-glow: radial-gradient(circle at center, hsl(219 87% 54% / 0.08), transparent 70%);

    /* Enhanced Animations */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);

    --radius: 0.5rem;
  }

  .dark {
    /* Dark theme for Google ADK Visual Builder */
    --background: 15 23 42;              /* slate-800 */
    --foreground: 248 250 252;           /* slate-50 */
    --surface: 30 41 59;                 /* slate-700 */
    --surface-dim: 15 23 42;             /* slate-800 */
    --surface-bright: 51 65 85;          /* slate-600 */

    /* Dark mode Google brand colors (slightly brighter) */
    --google-blue: 219 87% 64%;          /* Brighter blue for dark mode */
    --google-green: 142 76% 46%;         /* Brighter green */
    --google-yellow: 45 100% 61%;        /* Brighter yellow */
    --google-red: 4 90% 68%;             /* Brighter red */

    --primary: 219 87% 64%;              /* Brighter blue for dark mode */
    --primary-foreground: 15 23 42;      /* Dark background for contrast */
    --primary-hover: 219 87% 54%;        /* Slightly darker on hover */

    --secondary: 51 65 85;               /* slate-600 */
    --secondary-foreground: 248 250 252; /* slate-50 */
    
    --muted: 51 65 85;                   /* slate-600 */
    --muted-foreground: 148 163 184;     /* slate-400 */

    --accent: 219 87% 64% / 0.1;         /* Light blue with transparency */
    --accent-foreground: 219 87% 64%;    /* Bright blue text */

    --destructive: 4 90% 68%;            /* Brighter red */
    --destructive-foreground: 15 23 42;  /* Dark background */

    --border: 71 85 105;                 /* slate-500 */
    --border-strong: 100 116 139;        /* slate-400 */
    --input: 71 85 105;                  /* slate-500 */
    --ring: 219 87% 64%;                 /* Bright blue focus ring */

    /* Dark canvas */
    --canvas-background: 15 23 42;       /* slate-800 */
    --canvas-grid: 71 85 105;            /* slate-500 */

    /* Dark sidebar */
    --sidebar-background: 30 41 59;      /* slate-700 */
    --sidebar-foreground: 248 250 252;   /* slate-50 */
    --sidebar-border: 71 85 105;         /* slate-500 */
    --sidebar-hover: 51 65 85;           /* slate-600 */
    --sidebar-active: 219 87% 64% / 0.15; /* Light blue active state */

    /* Dark properties panel */
    --properties-background: 30 41 59;   /* slate-700 */
    --properties-border: 71 85 105;      /* slate-500 */
    --properties-header: 51 65 85;       /* slate-600 */

    /* Dark cards and popovers */
    --card: 30 41 59;                    /* slate-700 */
    --card-foreground: 248 250 252;      /* slate-50 */
    --popover: 30 41 59;                 /* slate-700 */
    --popover-foreground: 248 250 252;   /* slate-50 */

    /* Dark code editor */
    --code-background: 15 23 42;         /* slate-800 */
    --code-foreground: 248 250 252;      /* slate-50 */
  }
}

@layer base {
  html {
    height: 100%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-inter;
    height: 100%;
    margin: 0;
    padding: 0;
  }

  #root {
    height: 100%;
  }
}

@layer components {
  /* Enhanced Material Design 3 Components */
  
  /* Agent Node Animations with Material Design principles */
  .agent-node {
    @apply transition-all duration-300 ease-in-out;
    box-shadow: var(--shadow-md);
    border-radius: 12px;
  }
  
  .agent-node:hover {
    @apply scale-105;
    box-shadow: var(--shadow-lg);
  }

  .agent-node.executing {
    @apply animate-pulse;
    box-shadow: 0 0 20px hsl(219 87% 54% / 0.5);
  }

  .agent-node.error {
    @apply animate-bounce;
    box-shadow: 0 0 20px hsl(4 90% 58% / 0.5);
  }

  /* Enhanced Canvas Grid Pattern */
  .canvas-grid {
    background-image: 
      linear-gradient(hsl(226 232 240) 1px, transparent 1px),
      linear-gradient(90deg, hsl(226 232 240) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Material Design 3 Component Hover States */
  .component-item {
    @apply transition-all duration-200 ease-in-out;
    border-radius: 12px;
  }
  
  .component-item:hover {
    @apply bg-sidebar-hover scale-102;
    box-shadow: var(--shadow-md);
  }

  /* Enhanced Connection Animation */
  .react-flow__edge.animated {
    stroke-dasharray: 5;
    animation: dashdraw 1s linear infinite;
    stroke-width: 2px;
  }

  /* Material Design 3 Glow Effect */
  .node-glow {
    filter: drop-shadow(0 0 12px hsl(219 87% 54% / 0.3));
  }

  /* Material Design 3 Floating Action Buttons */
  .fab {
    @apply fixed z-50 w-14 h-14 rounded-full shadow-xl transition-all duration-300;
    background: var(--gradient-primary);
  }

  .fab:hover {
    @apply scale-110;
    box-shadow: var(--shadow-2xl);
  }

  /* Enhanced Code Editor Theme */
  .code-editor {
    font-family: 'JetBrains Mono', 'Courier New', monospace;
    border-radius: 8px;
    background: hsl(var(--code-background));
  }

  /* Material Design 3 Properties Panel Sections */
  .property-section {
    @apply transition-all duration-300 ease-in-out;
    border-radius: 8px;
  }

  .property-section.collapsed {
    @apply opacity-60;
  }

  /* Enhanced Form Controls */
  .form-control {
    @apply transition-all duration-200 ease-in-out;
    border-radius: 8px;
  }

  .form-control:focus {
    box-shadow: 0 0 0 2px hsl(219 87% 54% / 0.2);
  }
}

@layer utilities {
  /* Custom Animations */
  @keyframes dashdraw {
    from { stroke-dashoffset: 10; }
    to { stroke-dashoffset: 0; }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 5px hsl(var(--primary) / 0.3);
    }
    50% {
      box-shadow: 0 0 20px hsl(var(--primary) / 0.6), 0 0 30px hsl(var(--primary) / 0.4);
    }
  }

  /* Enhanced Material Design 3 Utility Classes */
  .font-inter { 
    font-family: 'Inter', sans-serif; 
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }
  .font-mono { 
    font-family: 'JetBrains Mono', monospace; 
    font-feature-settings: 'liga' 0;
  }
  
  .scale-102 { transform: scale(1.02); }
  .animate-fade-in-up { animation: fadeInUp 0.3s ease-out; }
  .animate-slide-in-right { animation: slideInRight 0.3s ease-out; }
  .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

  /* Material Design 3 Focus States */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    focus-visible:ring-color: hsl(219 87% 54%);
  }

  /* Agent type colors with enhanced contrast */
  .agent-llm { 
    border-color: hsl(219 87% 54%); 
    background: hsl(219 87% 54% / 0.05);
  }
  .agent-sequential { 
    border-color: hsl(142 76% 36%); 
    background: hsl(142 76% 36% / 0.05);
  }
  .agent-parallel { 
    border-color: hsl(45 100% 51%); 
    background: hsl(45 100% 51% / 0.05);
  }
  .agent-loop { 
    border-color: hsl(4 90% 58%); 
    background: hsl(4 90% 58% / 0.05);
  }
  .agent-tool { 
    border-color: hsl(262 83% 58%); 
    background: hsl(262 83% 58% / 0.05);
  }
}